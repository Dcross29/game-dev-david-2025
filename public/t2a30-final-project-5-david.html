<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Correct T Hallway</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  background: #bcbcbc;
}

/* ===== VISUAL DEBUG OUTLINES ===== */
.outline {
  position: absolute;
  border: 3px solid black;
  pointer-events: none;
}

/* Vertical stem */
#stem {
  width: 220px;
  height: 520px;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%);
}

/* Horizontal bar */
#bar {
  width: 720px;
  height: 220px;
  left: 50%;
  top: 240px;
  transform: translateX(-50%);
}

/* ===== PLAYER ===== */
#player {
  position: absolute;
  width: 48px;
  height: 48px;
  left: 50%;
  bottom: 40px;
  transform: translateX(-50%);
}

/* ===== GOOBER ===== */
#goober {
  position: absolute;
  width: 120px;
  height: 120px;
  left: 50%;
  top: 260px;
  transform: translateX(-50%);
}

/* ===== DOORS ===== */
.door {
  position: absolute;
  width: 100px;
  height: 150px;
  background: #aaa;
  border: 6px solid #333;
}

#doorLeft {
  top: 260px;
  left: 60px;
}

#doorRight {
  top: 260px;
  right: 60px;
}
</style>
</head>

<body>

<!-- VISUAL HALLWAY OUTLINES -->
<div id="stem" class="outline"></div>
<div id="bar" class="outline"></div>

<img id="player" src="player.gif">
<img id="goober" src="goober.gif">

<div id="doorLeft" class="door"></div>
<div id="doorRight" class="door"></div>

<script>
const player = document.getElementById("player");
const speed = 5;

let px = window.innerWidth / 2 - 24;
let py = window.innerHeight - 90;

/* ===== T SHAPE DEFINITION ===== */
function insideHallway(x, y) {
  const pw = 48;
  const ph = 48;

  const cx = x + pw / 2;
  const cy = y + ph / 2;

  const stem = {
    left: window.innerWidth / 2 - 110,
    right: window.innerWidth / 2 + 110,
    top: window.innerHeight - 520,
    bottom: window.innerHeight
  };

  const bar = {
    left: window.innerWidth / 2 - 360,
    right: window.innerWidth / 2 + 360,
    top: 240,
    bottom: 460
  };

  const inStem =
    cx > stem.left &&
    cx < stem.right &&
    cy > stem.top &&
    cy < stem.bottom;

  const inBar =
    cx > bar.left &&
    cx < bar.right &&
    cy > bar.top &&
    cy < bar.bottom;

  return inStem || inBar;
}

/* ===== MOVEMENT ===== */
document.addEventListener("keydown", e => {
  let nx = px;
  let ny = py;

  if (e.key === "w") ny -= speed;
  if (e.key === "s") ny += speed;
  if (e.key === "a") nx -= speed;
  if (e.key === "d") nx += speed;

  if (insideHallway(nx, ny)) {
    px = nx;
    py = ny;
  }

  player.style.left = px + "px";
  player.style.top = py + "px";
});
</script>

</body>
</html>
