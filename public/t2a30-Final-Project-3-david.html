<!DOCTYPE html>
<html>

<h1><font color=red>I will pop that bubble - lvl 3</font></h1>

<body style="margin:0; overflow:hidden;">

<img id="arrowLeft" src="Arrowleft.gif"
style="position:absolute; left:10px; top:50%; width:50px; height:50px; cursor:pointer; z-index:10;">

<img id="arrowRight" src="Arrowright.gif"
style="position:absolute; right:10px; top:50%; width:50px; height:50px; cursor:pointer; z-index:10;">

<div id="roomView"
style="width:100vw; height:100vh; background-size:cover; position:relative;">

  <!-- Center item -->
  <img id="item1" src="item.png"
  style="position:absolute; left:500px; top:300px; width:50px; height:50px; cursor:pointer; display:none;">

  <!-- Shelf door -->
  <img id="shelfDoor" src="Shelfdoor.gif"
  style="position:absolute; left:420px; top:260px; width:200px; cursor:pointer; display:none; transition:opacity 0.3s;">
</div>

<script>
let currentView = 'center';
let shelfOpen = false;

function updateView() {
  const room = document.getElementById('roomView');
  const item1 = document.getElementById('item1');
  const shelf = document.getElementById('shelfDoor');

  if (currentView === 'left') {
    room.style.backgroundImage = "url('room_left.png')";
    item1.style.display = 'none';
    shelf.style.display = 'none';

  } else if (currentView === 'center') {
    room.style.backgroundImage = "url('room_center.png')";
    item1.style.display = 'block';
    shelf.style.display = 'none';

  } else if (currentView === 'right') {
    room.style.backgroundImage = "url('Level3background1.gif')";
    item1.style.display = 'none';
    shelf.style.display = 'block';
  }
}

// Arrow navigation
document.getElementById('arrowLeft').onclick = () => {
  if (currentView === 'center') currentView = 'left';
  else if (currentView === 'right') currentView = 'center';
  updateView();
};

document.getElementById('arrowRight').onclick = () => {
  if (currentView === 'center') currentView = 'right';
  else if (currentView === 'left') currentView = 'center';
  updateView();
};

// Shelf click â†’ hide for 3 seconds
document.getElementById('shelfDoor').onclick = () => {
  if (shelfOpen) return;

  shelfOpen = true;
  const shelf = document.getElementById('shelfDoor');
  shelf.style.opacity = 0;

  setTimeout(() => {
    shelf.style.opacity = 1;
    shelfOpen = false;
  }, 3000);
};

// Item interaction
document.getElementById('item1').onclick = () => {
  alert('You interacted with the item!');
};

// Initial load
updateView();
</script>

</body>
</html>
