<!DOCTYPE html>
<html>
<head>
  <title>I will pop that bubble - lvl 2</title>

  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      position: relative;
      background-size: 100%;
      background-image: url('lvl2doorclose.gif');
    }

    #fadeOverlay {
      position: fixed;
      inset: 0;
      background: black;
      z-index: 9999;
      transition: opacity 1s;
    }
  </style>
</head>

<body>

<div id="fadeOverlay"></div>

<h1>I will pop that bubble - lvl 2</h1>

<h3>
<details open>
  <summary>How to Progress</summary>
  <ul>
    <li>1. Click the red button</li>
    <li>2. Press W when the door is open</li>
  </ul>
</details>
</h3>

<img
  id="mybutton"
  src="Button.gif"
  style="cursor:pointer;"
  onclick="
    event.stopPropagation();
    doorOpen = true;
    document.body.style.backgroundImage = 'url(lvl2dooropen.gif)';
    this.style.display = 'none';
  "
>

<script>
let doorOpen = false;

document.addEventListener('keydown', function (e) {
  if (doorOpen && (e.key === 'w' || e.key === 'W')) {
    location.href = 't2a30-Final-Project-3-david.html';
  }
});

const overlay = document.getElementById('fadeOverlay');
window.addEventListener('load', function () {
  overlay.style.opacity = 0;
  setTimeout(function () {
    overlay.remove();
  }, 1000);
});
</script>

</body>
</html>
